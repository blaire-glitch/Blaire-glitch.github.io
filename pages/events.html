<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Arise Band_KE Events</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../styles/styles.css" />
    <link rel="stylesheet" href="../styles/pages.css" />
    <link rel="stylesheet" href="../styles/loader.css" />
    
    <!-- URL Handler - Remove .html from URL bar -->
    <script src="../scripts/url-handler.js"></script>
    
    <style>
      /* Floating Support Button */
      .floating-support-btn {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background-image: url('../assets/images/logo.jpg');
        background-size: cover;
        background-position: center;
        border: 3px solid #0dcaf0;
        box-shadow: 0 8px 20px rgba(13, 202, 240, 0.4);
        cursor: pointer;
        z-index: 1000;
        transition: all 0.3s ease;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        padding-bottom: 8px;
        animation: pulse 2s infinite;
      }

      .floating-support-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 12px 30px rgba(13, 202, 240, 0.6);
        border-color: #ffd580;
      }

      .support-btn-text {
        background: rgba(13, 202, 240, 0.95);
        color: #1a1a1a;
        padding: 4px 10px;
        border-radius: 15px;
        font-weight: bold;
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        white-space: nowrap;
      }

      .floating-support-btn:hover .support-btn-text {
        background: rgba(255, 213, 128, 0.95);
        color: #1a1a1a;
      }

      @keyframes pulse {
        0%, 100% {
          box-shadow: 0 8px 20px rgba(13, 202, 240, 0.4);
        }
        50% {
          box-shadow: 0 8px 30px rgba(13, 202, 240, 0.7);
        }
      }

      /* Mobile Responsive */
      @media (max-width: 768px) {
        .floating-support-btn {
          width: 80px;
          height: 80px;
          bottom: 20px;
          right: 20px;
        }

        .support-btn-text {
          font-size: 9px;
          padding: 3px 8px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Page Loader -->
    <div class="page-loader">
      <div class="loader-content">
        <img src="../assets/images/logo.jpg" alt="Arise Band_KE" class="loader-logo">
        <div class="loader-text">ARISE BAND_KE</div>
        <div class="loader-spinner"></div>
      </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
      <div class="container">
        <a class="navbar-brand" href="../index.html">
          <img src="../assets/images/logo.jpg" alt="Arise Band_KE Logo" class="navbar-logo">
          <span class="ms-2">Arise Band_KE</span>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="../index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="band-members.html">Band Members</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="events.html">Events</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="gallery.html">Gallery</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="fanwall.html">Fan Wall</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../index.html#contact">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Events Section -->
    <header class="dashboard-hero text-center py-5">
      <!-- Slideshow Background -->
      <div class="events-slideshow">
        <div class="slideshow-image active" style="background-image: url('../assets/images/event1.png');"></div>
        <div class="slideshow-image" style="background-image: url('../assets/images/concert.jpg');"></div>
        <div class="slideshow-image" style="background-image: url('../assets/images/Ariseprac.jpg');"></div>
        <div class="slideshow-image" style="background-image: url('../assets/images/outreach.jpg');"></div>
        <div class="slideshow-image" style="background-image: url('../assets/images/rehearsal.jpg');"></div>
      </div>
      <div class="dashboard-overlay"></div>
      <div class="container dashboard-content">
        <h1 class="display-3 fw-bold events-title"> ARISE BAND_KE EVENTS </h1>
        <p class="lead fs-4 events-subtitle">Join Us for Worship, Praise & Celebration!</p>
        <div class="events-tagline mt-3">
          <span class="badge events-badge">üìÖ Upcoming Shows</span>
          <span class="badge events-badge ms-2">üé§ Live Worship</span>
          <span class="badge events-badge ms-2">üôè Community Outreach</span>
        </div>
      </div>
    </header>

  <!-- Upcoming Events Section -->
  <section id="events" class="container my-5 pt-5">
    <h2 class="text-center mb-4">Upcoming Events</h2>

    <!-- Filter Dropdown -->
    <div class="mb-4">
      <label for="eventFilter" class="form-label">Filter Events:</label>
      <select id="eventFilter" class="form-select">
        <option value="all">All</option>
        <option value="concert">Concerts</option>
        <option value="worship">Worship Nights</option>
        <option value="outreach">Outreach</option>
      </select>
    </div>

    <!-- Events Grid -->
    <div class="row" id="eventsGrid">
      <!-- Event Card 1 -->
      <div class="col-md-4 mb-4 event-card" data-type="concert">
        <div class="card shadow-sm h-100">
          <img src="../assets/images/event1.png" class="card-img-top" alt="Open Heaven Experience">
          <div class="card-body">
            <h5 class="card-title">Open Heaven Experience</h5>
            <p class="card-text">Busia Stadium ‚Ä¢ Dec 15, 2025</p>
           <a href="Event1.html" class="btn btn-primary">Learn More</a>


          </div>
        </div>
      </div>

      <!-- Event Card 2 -->
      <div class="col-md-4 mb-4 event-card" data-type="worship">
        <div class="card shadow-sm h-100">
          <img src="../assets/images/worship.jpg" class="card-img-top" alt="Community Evening of Worship">
          <div class="card-body">
            <h5 class="card-title">Community Evening of Worship</h5>
            <p class="card-text">ACK St Thomas Cathedral ‚Ä¢ Jan 10, 2026</p>
            <a href="Event2.html" class="btn btn-primary">Learn More</a>

          </div>
        </div>
      </div>

      <!-- Event Card 3 -->
      <div class="col-md-4 mb-4 event-card" data-type="outreach">
        <div class="card shadow-sm h-100">
          <img src="../assets/images/Youths conference.jpg" class="card-img-top" alt="Youth Praise Concert">
          <div class="card-body">
            <h5 class="card-title">Youth Praise Concert</h5>
            <p class="card-text">Nambale Grounds ‚Ä¢ Dec 27, 2025</p>
            <a href="Event3.html" class="btn btn-primary">Learn More</a>

          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Custom JS -->
  <script>
    // Filter logic
    const filterSelect = document.getElementById('eventFilter');
    const eventCards = document.querySelectorAll('.event-card');

    filterSelect.addEventListener('change', function() {
      const filterValue = this.value;
      eventCards.forEach(card => {
        if (filterValue === 'all' || card.dataset.type === filterValue) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    });

    // Scroll-trigger animation
    function checkInView() {
      const triggerBottom = window.innerHeight * 0.85;
      eventCards.forEach((card, index) => {
        const cardTop = card.getBoundingClientRect().top;
        if (cardTop < triggerBottom) {
          card.classList.add('in-view');
          card.style.animationDelay = `${index * 0.2}s`; // staggered delay
        }
      });
    }

    window.addEventListener('scroll', checkInView);
    window.addEventListener('load', checkInView);
  </script>
</body>
</html>
</script>
    <!-- Social Media Section -->
    <section class="bg-light py-5">
      <div class="container text-center">
        <h2 class="mb-4">Follow Us on Social Media</h2>
        <div class="d-flex justify-content-center">
          <a href="https://instagram.com" class="btn btn-outline-dark me-2"><i
              class="fab fa-instagram"></i> Instagram</a>
          <a href="https://youtube.com" class="btn btn-outline-dark me-2"><i
              class="fab fa-youtube"></i> YouTube</a>
          <a href="https://facebook.com" class="btn btn-outline-dark me-2"><i
              class="fab fa-facebook"></i> Facebook</a>
          <a href="https://tiktok.com" class="btn btn-outline-dark"><i
              class="fab fa-tiktok"></i> TikTok</a>
        </div>
      </div>
    </section>

    <!-- Floating Support Button -->
    <button id="supportButton" class="floating-support-btn" type="button" data-bs-toggle="modal" data-bs-target="#merchandiseModal">
      <span class="support-btn-text">Support Us</span>
    </button>

    <!-- Merchandise Exit Popup Modal -->
    <div class="modal fade" id="merchandiseModal" tabindex="-1" aria-labelledby="merchandiseModalLabel" aria-hidden="true" data-bs-backdrop="static">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content bg-dark text-white border-info">
          <div class="modal-header border-info">
            <h5 class="modal-title" id="merchandiseModalLabel">
              <i class="bi bi-bag-heart-fill text-info"></i> Support Arise Band KE!
            </h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="row g-4">
              <div class="col-12 text-center mb-3">
                <h4 class="text-info">üé∏ Show Your Love & Support üé∏</h4>
                <p class="lead">Get exclusive Arise Band merchandise and help us create more amazing music!</p>
              </div>
              
              <!-- Merchandise Items -->
              <div class="col-md-4">
                <div class="card bg-transparent border-info h-100">
                  <img src="../assets/images/TSHIRT.jpg" class="card-img-top" alt="Arise Band T-Shirts">
                  <div class="card-body text-center">
                    <h5 class="card-title mt-3 text-info">T-Shirts</h5>
                    <p class="card-text">Premium quality band tees</p>
                    <p class="fw-bold text-warning">KSh 1,500</p>
                  </div>
                </div>
              </div>
              
              <div class="col-md-4">
                <div class="card bg-transparent border-info h-100">
                  <img src="../assets/images/Cap.png" class="card-img-top" alt="Arise Band Caps">
                  <div class="card-body text-center">
                    <h5 class="card-title mt-3 text-info">Caps</h5>
                    <p class="card-text">Stylish branded caps</p>
                    <p class="fw-bold text-warning">KSh 800</p>
                  </div>
                </div>
              </div>
              
              <div class="col-md-4">
                <div class="card bg-transparent border-info h-100">
                  <div class="card-body text-center">
                    <i class="bi bi-ticket-perforated-fill" style="font-size: 3rem; color: #0dcaf0;"></i>
                    <h5 class="card-title mt-3 text-info">Event Tickets</h5>
                    <p class="card-text">Join us live!</p>
                    <p class="fw-bold text-warning">From KSh 500</p>
                  </div>
                </div>
              </div>
              
              <div class="col-12 text-center mt-4">
                <h5 class="text-white mb-3">üíù Every Purchase Supports Our Ministry üíù</h5>
                <div class="d-flex justify-content-center gap-3 flex-wrap">
                  <button type="button" class="btn btn-info btn-lg" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#orderFormModal">
                    <i class="bi bi-cart-fill"></i> Order Merchandise
                  </button>
                  <a href="events.html" class="btn btn-outline-info btn-lg" data-bs-dismiss="modal">
                    <i class="bi bi-calendar-event"></i> View Events
                  </a>
                </div>
                <p class="text-muted mt-3 small">Fill out the order form to place your order</p>
              </div>
            </div>
          </div>
          <div class="modal-footer border-info justify-content-center">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Maybe Later</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Order Form Modal -->
    <div class="modal fade" id="orderFormModal" tabindex="-1" aria-labelledby="orderFormModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content bg-dark text-white border-info">
          <div class="modal-header border-info">
            <h5 class="modal-title" id="orderFormModalLabel">
              <i class="bi bi-clipboard-check-fill text-info"></i> Place Your Order
            </h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="merchandiseOrderForm">
              <div class="row g-3">
                <!-- Personal Information -->
                <div class="col-12">
                  <h6 class="text-info"><i class="bi bi-person-fill"></i> Personal Information</h6>
                </div>
                
                <div class="col-md-6">
                  <label for="orderName" class="form-label">Full Name <span class="text-danger">*</span></label>
                  <input type="text" class="form-control bg-transparent text-white border-info" id="orderName" required>
                </div>
                
                <div class="col-md-6">
                  <label for="orderPhone" class="form-label">Phone Number <span class="text-danger">*</span></label>
                  <input type="tel" class="form-control bg-transparent text-white border-info" id="orderPhone" placeholder="07XXXXXXXX" required>
                </div>
                
                <div class="col-12">
                  <label for="orderEmail" class="form-label">Email <span class="text-danger">*</span></label>
                  <input type="email" class="form-control bg-transparent text-white border-info" id="orderEmail" required>
                </div>
                
                <div class="col-12">
                  <label for="orderLocation" class="form-label">Location/City <span class="text-danger">*</span></label>
                  <input type="text" class="form-control bg-transparent text-white border-info" id="orderLocation" placeholder="e.g., Nairobi" required>
                </div>
                
                <!-- Order Details -->
                <div class="col-12 mt-4">
                  <h6 class="text-info"><i class="bi bi-bag-fill"></i> Order Details</h6>
                </div>
                
                <div class="col-12">
                  <label for="orderType" class="form-label">Select Item Type <span class="text-danger">*</span></label>
                  <select class="form-select bg-transparent text-white border-info" id="orderType" required>
                    <option value="" selected disabled>Choose...</option>
                    <option value="tshirt">T-Shirt (KSh 1,500)</option>
                    <option value="cap">Cap (KSh 800)</option>
                    <option value="ticket">Event Ticket (KSh 500+)</option>
                    <option value="multiple">Multiple Items</option>
                  </select>
                </div>
                
                <div class="col-md-6">
                  <label for="orderQuantity" class="form-label">Quantity <span class="text-danger">*</span></label>
                  <input type="number" class="form-control bg-transparent text-white border-info" id="orderQuantity" min="1" value="1" required>
                </div>
                
                <div class="col-md-6">
                  <label for="orderSize" class="form-label">Size (for T-Shirts/Caps)</label>
                  <select class="form-select bg-transparent text-white border-info" id="orderSize">
                    <option value="" selected>Not applicable</option>
                    <option value="S">Small (S)</option>
                    <option value="M">Medium (M)</option>
                    <option value="L">Large (L)</option>
                    <option value="XL">Extra Large (XL)</option>
                    <option value="XXL">XXL</option>
                  </select>
                </div>
                
                <div class="col-12">
                  <label for="orderNotes" class="form-label">Additional Notes/Preferences</label>
                  <textarea class="form-control bg-transparent text-white border-info" id="orderNotes" rows="3" placeholder="Any special requests, preferred colors, event details, etc."></textarea>
                </div>
                
                <div class="col-12">
                  <label for="orderPayment" class="form-label">Preferred Payment Method <span class="text-danger">*</span></label>
                  <select class="form-select bg-transparent text-white border-info" id="orderPayment" required>
                    <option value="" selected disabled>Choose...</option>
                    <option value="mpesa">M-Pesa</option>
                    <option value="cash">Cash on Delivery</option>
                    <option value="bank">Bank Transfer</option>
                  </select>
                </div>

                <!-- M-Pesa Payment Section (Hidden by default) -->
                <div class="col-12" id="mpesaSection" style="display: none;">
                  <div class="card bg-dark border-success">
                    <div class="card-body">
                      <h6 class="text-success mb-3"><i class="bi bi-phone-fill"></i> M-Pesa Payment</h6>
                      
                      <div class="mb-3">
                        <label for="mpesaPhone" class="form-label">M-Pesa Phone Number <span class="text-danger">*</span></label>
                        <input type="tel" class="form-control bg-transparent text-white border-success" id="mpesaPhone" placeholder="254XXXXXXXXX" required>
                        <small class="text-white-50">Enter the number to receive STK push prompt</small>
                      </div>

                      <div class="mb-3">
                        <label for="mpesaAmount" class="form-label">Amount (KSh) <span class="text-danger">*</span></label>
                        <input type="number" class="form-control bg-transparent text-white border-success" id="mpesaAmount" min="1" required readonly>
                      </div>

                      <div class="alert alert-success mb-0">
                        <i class="bi bi-info-circle-fill"></i> <strong>Instructions:</strong>
                        <ol class="mb-0 mt-2 ps-3">
                          <li>Enter your M-Pesa phone number above</li>
                          <li>Click "Submit Order & Pay" below</li>
                          <li>Check your phone for STK push prompt</li>
                          <li>Enter your M-Pesa PIN to complete payment</li>
                        </ol>
                      </div>
                    </div>
                  </div>
                </div>
                
                <div class="col-12 mt-3">
                  <div class="alert alert-info">
                    <i class="bi bi-info-circle-fill"></i> <strong>Note:</strong> We'll contact you within 24 hours to confirm your order and provide payment details.
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer border-info">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-info" id="submitOrderBtn">
              <i class="bi bi-check-circle-fill"></i> Submit Order
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-5">
      <div class="container">
        <!-- Quick Links Section -->
        <div class="row mb-4">
          <div class="col-md-3 col-sm-6 mb-3">
            <h5 class="text-info mb-3">Quick Links</h5>
            <ul class="list-unstyled">
              <li class="mb-2"><a href="../index.html#about" class="text-white-50 text-decoration-none hover-link"><i class="bi bi-chevron-right"></i> About Us</a></li>
              <li class="mb-2"><a href="../index.html#events" class="text-white-50 text-decoration-none hover-link"><i class="bi bi-chevron-right"></i> Events</a></li>
              <li class="mb-2"><a href="band-members.html" class="text-white-50 text-decoration-none hover-link"><i class="bi bi-chevron-right"></i> Band Members</a></li>
              <li class="mb-2"><a href="gallery.html" class="text-white-50 text-decoration-none hover-link"><i class="bi bi-chevron-right"></i> Gallery</a></li>
            </ul>
          </div>
          <div class="col-md-3 col-sm-6 mb-3">
            <h5 class="text-info mb-3">Connect</h5>
            <ul class="list-unstyled">
              <li class="mb-2"><a href="fanwall.html" class="text-white-50 text-decoration-none hover-link"><i class="bi bi-chevron-right"></i> Fan Wall</a></li>
              <li class="mb-2"><a href="../index.html#contact" class="text-white-50 text-decoration-none hover-link"><i class="bi bi-chevron-right"></i> Contact Us</a></li>
              <li class="mb-2"><a href="social-feed.html" class="text-white-50 text-decoration-none hover-link"><i class="bi bi-chevron-right"></i> Social Feed</a></li>
            </ul>
          </div>
          <div class="col-md-3 col-sm-6 mb-3">
            <h5 class="text-info mb-3">Resources</h5>
            <ul class="list-unstyled">
              <li class="mb-2"><a href="../index.html#media" class="text-white-50 text-decoration-none hover-link"><i class="bi bi-chevron-right"></i> Media</a></li>
              <li class="mb-2"><a href="events.html" class="text-white-50 text-decoration-none hover-link"><i class="bi bi-chevron-right"></i> All Events</a></li>
            </ul>
          </div>
          <div class="col-md-3 col-sm-6 mb-3">
            <h5 class="text-info mb-3">Support Us</h5>
            <ul class="list-unstyled">
              <li class="mb-2"><a href="#" data-bs-toggle="modal" data-bs-target="#mpesaModal" class="text-white-50 text-decoration-none hover-link"><i class="bi bi-chevron-right"></i> Donate via M-Pesa</a></li>
              <li class="mb-2"><a href="mailto:arisebandkenya@gmail.com" class="text-white-50 text-decoration-none hover-link"><i class="bi bi-chevron-right"></i> Email Us</a></li>
            </ul>
          </div>
        </div>

        <!-- Social Media & Copyright -->
        <div class="row">
          <div class="col-12 text-center pt-3 border-top border-secondary">
            <div class="mb-3">
              <a href="https://instagram.com" class="text-white me-3 fs-4"><i class="fab fa-instagram"></i></a>
              <a href="https://youtube.com" class="text-white me-3 fs-4"><i class="fab fa-youtube"></i></a>
              <a href="https://facebook.com" class="text-white me-3 fs-4"><i class="fab fa-facebook"></i></a>
              <a href="https://tiktok.com" class="text-white fs-4"><i class="fab fa-tiktok"></i></a>
            </div>
            <p class="mb-0 text-white-50">&copy; 2025 Arise Band_KE. All rights reserved.</p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Support Us Modal -->
    <div class="modal fade" id="supportModal" tabindex="-1" aria-labelledby="supportModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content bg-dark text-white border-info">
          <div class="modal-header border-info">
            <h5 class="modal-title" id="supportModalLabel">
              <i class="bi bi-heart-fill text-danger me-2"></i>Support Arise Band
            </h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="text-center mb-4">
              <p class="lead">Your support helps us spread worship and reach more communities</p>
            </div>
            
            <div class="row g-3">
              <div class="col-md-6">
                <div class="card bg-secondary border-info h-100 text-center p-3">
                  <i class="bi bi-phone-fill text-success fs-1"></i>
                  <h6 class="mt-3 text-white">M-Pesa</h6>
                  <p class="small text-white-50 mb-3">Quick mobile payment</p>
                  <button class="btn btn-success btn-sm" onclick="location.href='online-payments.html'">
                    Pay Now
                  </button>
                </div>
              </div>
              
              <div class="col-md-6">
                <div class="card bg-secondary border-info h-100 text-center p-3">
                  <i class="bi bi-credit-card text-warning fs-1"></i>
                  <h6 class="mt-3 text-white">Other Methods</h6>
                  <p class="small text-white-50 mb-3">Card, PayPal, Bank Transfer</p>
                  <a href="online-payments.html" class="btn btn-warning btn-sm text-dark">
                    View Options
                  </a>
                </div>
              </div>
            </div>
            
            <div class="alert alert-info mt-4 mb-0">
              <i class="bi bi-info-circle-fill me-2"></i>
              <strong>Every contribution matters!</strong> Your giving supports worship events, equipment, and community outreach.
            </div>
          </div>
          <div class="modal-footer border-info">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../scripts/main.js"></script>
    
    <!-- Events Slideshow Script -->
    <script>
      // Slideshow functionality
      let currentSlide = 0;
      const slides = document.querySelectorAll('.slideshow-image');
      
      function showNextSlide() {
        slides[currentSlide].classList.remove('active');
        currentSlide = (currentSlide + 1) % slides.length;
        slides[currentSlide].classList.add('active');
      }
      
      // Change slide every 4 seconds
      setInterval(showNextSlide, 4000);
    </script>

    <!-- Merchandise Popup Script -->
    <script>
      // Wait for everything to load
      window.addEventListener('load', function() {
        console.log('‚úÖ Page fully loaded');
        console.log('‚úÖ Bootstrap available:', typeof bootstrap !== 'undefined');
        
        // Check if user has already seen the popup in this session
        const hasSeenPopup = sessionStorage.getItem('merchandisePopupShown');
        console.log('üìã Has seen popup:', hasSeenPopup);
        
        // Check if modal exists
        const modalElement = document.getElementById('merchandiseModal');
        console.log('üìã Modal element found:', modalElement !== null);
        
        // Show popup every 45 seconds
        function showMerchandisePopup() {
          console.log('üéâ Showing popup now!');
          if (modalElement && typeof bootstrap !== 'undefined') {
            const merchandiseModal = new bootstrap.Modal(modalElement);
            merchandiseModal.show();
            console.log('‚úÖ Popup displayed successfully!');
          } else {
            console.error('‚ùå Error: Modal element or Bootstrap not available');
          }
        }
        
        // Initial popup after 45 seconds
        console.log('‚è∞ Will show popup in 45 seconds...');
        setTimeout(function() {
          showMerchandisePopup();
          // Repeat popup every 45 seconds
          setInterval(showMerchandisePopup, 45000);
        }, 45000); // 45 seconds
        
        // Payment method toggle
        const paymentSelect = document.getElementById('orderPayment');
        const mpesaSection = document.getElementById('mpesaSection');
        const mpesaPhoneInput = document.getElementById('mpesaPhone');
        const mpesaAmountInput = document.getElementById('mpesaAmount');
        const orderTypeSelect = document.getElementById('orderType');
        const orderQuantityInput = document.getElementById('orderQuantity');
        
        if (paymentSelect) {
          paymentSelect.addEventListener('change', function() {
            if (this.value === 'mpesa') {
              mpesaSection.style.display = 'block';
              // Auto-fill phone from order phone
              const orderPhone = document.getElementById('orderPhone').value;
              if (orderPhone) {
                // Convert 07XXXXXXXX to 2547XXXXXXXX
                mpesaPhoneInput.value = orderPhone.startsWith('0') ? '254' + orderPhone.substring(1) : orderPhone;
              }
              // Calculate amount
              calculateMpesaAmount();
            } else {
              mpesaSection.style.display = 'none';
            }
          });
        }
        
        // Calculate M-Pesa amount based on order
        function calculateMpesaAmount() {
          const itemType = orderTypeSelect.value;
          const quantity = parseInt(orderQuantityInput.value) || 1;
          const prices = {
            'tshirt': 1500,
            'cap': 800,
            'ticket': 500,
            'multiple': 0
          };
          
          if (itemType && itemType !== 'multiple') {
            mpesaAmountInput.value = prices[itemType] * quantity;
          } else {
            mpesaAmountInput.value = '';
            mpesaAmountInput.placeholder = 'Enter total amount';
            mpesaAmountInput.readOnly = false;
          }
        }
        
        // Update amount when type or quantity changes
        if (orderTypeSelect) {
          orderTypeSelect.addEventListener('change', calculateMpesaAmount);
        }
        if (orderQuantityInput) {
          orderQuantityInput.addEventListener('input', calculateMpesaAmount);
        }
        
        // Auto-fill M-Pesa phone when order phone changes
        const orderPhoneInput = document.getElementById('orderPhone');
        if (orderPhoneInput) {
          orderPhoneInput.addEventListener('blur', function() {
            if (paymentSelect.value === 'mpesa' && this.value) {
              mpesaPhoneInput.value = this.value.startsWith('0') ? '254' + this.value.substring(1) : this.value;
            }
          });
        }
        
        // Order Form Submission Handler - WhatsApp & M-Pesa Integration
        const submitBtn = document.getElementById('submitOrderBtn');
        if (submitBtn) {
          submitBtn.addEventListener('click', function() {
            const form = document.getElementById('merchandiseOrderForm');
            
            if (form.checkValidity()) {
              // Collect form data
              const name = document.getElementById('orderName').value;
              const phone = document.getElementById('orderPhone').value;
              const email = document.getElementById('orderEmail').value;
              const location = document.getElementById('orderLocation').value;
              const itemType = document.getElementById('orderType').value;
              const quantity = document.getElementById('orderQuantity').value;
              const size = document.getElementById('orderSize').value || 'N/A';
              const notes = document.getElementById('orderNotes').value || 'None';
              const paymentMethod = document.getElementById('orderPayment').value;
              
              // Format item type
              const itemNames = {
                'tshirt': 'T-Shirt',
                'cap': 'Cap',
                'ticket': 'Event Ticket',
                'multiple': 'Multiple Items'
              };
              
              const paymentNames = {
                'mpesa': 'M-Pesa',
                'cash': 'Cash on Delivery',
                'bank': 'Bank Transfer'
              };
              
              // Handle M-Pesa payment
              if (paymentMethod === 'mpesa') {
                const mpesaPhone = document.getElementById('mpesaPhone').value;
                const mpesaAmount = document.getElementById('mpesaAmount').value;
                
                if (!mpesaPhone || !mpesaAmount) {
                  alert('‚ö†Ô∏è Please fill in M-Pesa phone number and amount');
                  return;
                }
                
                // Confirm before proceeding
                const confirmPayment = confirm('üì± Ready to proceed with M-Pesa payment?\n\n' +
                  'Amount: KSh ' + mpesaAmount + '\n' +
                  'Phone: ' + mpesaPhone + '\n\n' +
                  'Click OK to receive STK push prompt on your phone.');
                
                if (!confirmPayment) {
                  return; // User cancelled
                }
                
                // Show processing message
                alert('üì± Initiating M-Pesa STK Push...\n\nPlease check your phone for the payment prompt.\n\nEnter your M-Pesa PIN to complete the payment.');
                
                // Create order reference
                const orderRef = 'ORD-' + Date.now();
                
                // In a real implementation, you would call your M-Pesa API here
                // For now, we'll simulate the STK push and send details via WhatsApp
                
                // Create WhatsApp message with M-Pesa details
                const message = `üéµ *ARISE BAND MERCHANDISE ORDER*\n\n` +
                  `üì¶ *Order Reference:* ${orderRef}\n` +
                  `üìÖ *Date:* ${new Date().toLocaleString()}\n\n` +
                  `üë§ *Customer Details:*\n` +
                  `Name: ${name}\n` +
                  `Phone: ${phone}\n` +
                  `Email: ${email}\n` +
                  `Location: ${location}\n\n` +
                  `üõçÔ∏è *Order Details:*\n` +
                  `Item: ${itemNames[itemType]}\n` +
                  `Quantity: ${quantity}\n` +
                  `Size: ${size}\n` +
                  `Notes: ${notes}\n\n` +
                  `üí≥ *Payment Details:*\n` +
                  `Method: M-Pesa\n` +
                  `Phone: ${mpesaPhone}\n` +
                  `Amount: KSh ${mpesaAmount}\n` +
                  `Status: Pending STK Push\n\n` +
                  `*IMPORTANT:* Please complete the M-Pesa payment on your phone (${mpesaPhone}) to confirm this order.\n\n` +
                  `Thank you for supporting Arise Band! üôè`;
                
                const whatsappNumber = '254722104985';
                const encodedMessage = encodeURIComponent(message);
                const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
                
                // Save order
                let orders = JSON.parse(localStorage.getItem('bandOrders') || '[]');
                orders.push({
                  reference: orderRef,
                  name, phone, email, location, itemType, quantity, size, notes, 
                  paymentMethod: 'mpesa',
                  mpesaPhone, mpesaAmount,
                  timestamp: new Date().toISOString()
                });
                localStorage.setItem('bandOrders', JSON.stringify(orders));
                
                // Open WhatsApp with order details
                window.open(whatsappURL, '_blank');
                
                // Show success message with fallback option
                const successMsg = confirm('‚úÖ Order submitted!\n\n' +
                      '1. Complete M-Pesa payment on your phone\n' +
                      '2. Send the WhatsApp message that just opened\n\n' +
                      'Order Reference: ' + orderRef + '\n\n' +
                      '‚ö†Ô∏è If payment fails, click OK to try again or Cancel to use another payment method.');
                
                if (!successMsg) {
                  // User wants to change payment method
                  alert('üí° No problem! You can:\n\n' +
                        '‚Ä¢ Try M-Pesa again (check balance & phone number)\n' +
                        '‚Ä¢ Choose Cash on Delivery instead\n' +
                        '‚Ä¢ Contact us on WhatsApp: 0722104985\n\n' +
                        'We\'re here to help make your order work! üôè');
                }
                
              } else {
                // Non M-Pesa payment methods
                const orderRef = 'ORD-' + Date.now();
                const message = `üéµ *ARISE BAND MERCHANDISE ORDER*\n\n` +
                  `üì¶ *Order Reference:* ${orderRef}\n` +
                  `üìÖ *Date:* ${new Date().toLocaleString()}\n\n` +
                  `üë§ *Customer Details:*\n` +
                  `Name: ${name}\n` +
                  `Phone: ${phone}\n` +
                  `Email: ${email}\n` +
                  `Location: ${location}\n\n` +
                  `üõçÔ∏è *Order Details:*\n` +
                  `Item: ${itemNames[itemType]}\n` +
                  `Quantity: ${quantity}\n` +
                  `Size: ${size}\n` +
                  `Notes: ${notes}\n\n` +
                  `üí≥ *Payment Method:* ${paymentNames[paymentMethod]}\n\n` +
                  `Thank you for supporting Arise Band! üôè`;
                
                const whatsappNumber = '254722104985';
                const encodedMessage = encodeURIComponent(message);
                const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
                
                // Save order
                let orders = JSON.parse(localStorage.getItem('bandOrders') || '[]');
                orders.push({
                  reference: orderRef,
                  name, phone, email, location, itemType, quantity, size, notes, paymentMethod,
                  timestamp: new Date().toISOString()
                });
                localStorage.setItem('bandOrders', JSON.stringify(orders));
                
                // Open WhatsApp
                window.open(whatsappURL, '_blank');
                
                // Show success message with support option
                const sent = confirm('‚úÖ Opening WhatsApp to send your order!\n\n' +
                      'Order Reference: ' + orderRef + '\n\n' +
                      'Click OK after sending the message, or Cancel if you need help.');
                
                if (!sent) {
                  alert('üí° Need assistance? We\'re here to help!\n\n' +
                        '‚Ä¢ WhatsApp us directly: 0722104985\n' +
                        '‚Ä¢ Email: arisebandkenya@gmail.com\n' +
                        '‚Ä¢ Try a different payment method\n\n' +
                        'Your order reference: ' + orderRef + '\n\n' +
                        'Don\'t worry - we\'ll make it work! üôè');
                }
              }
              
              // Close modal and reset form
              bootstrap.Modal.getInstance(document.getElementById('orderFormModal')).hide();
              form.reset();
            } else {
              form.reportValidity();
            }
          });
        }
      });
    </script>
  </body>
</html>